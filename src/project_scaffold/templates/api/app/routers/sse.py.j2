"""Server-Sent Events endpoint for {{ project_name }}."""

import asyncio
from collections.abc import AsyncGenerator

from fastapi import APIRouter
from sse_starlette.sse import EventSourceResponse

router = APIRouter()


async def event_generator() -> AsyncGenerator[dict, None]:
    """Example event generator. Replace with your own logic."""
    while True:
        await asyncio.sleep(1)
        yield {"event": "ping", "data": "keepalive"}


@router.get("/events")
async def sse_events():
    """SSE endpoint that streams events to the client."""
    return EventSourceResponse(event_generator())
